<!DOCTYPE html>
<html ng-app>
  <head>
    <title>Space Demo</title>
    <link href="stylesheets/bootstrap.min.css" media="all" rel="stylesheet" type="text/css"/>
          <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js" type="text/javascript"></script>
    <script language="javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js" type="text/javascript"></script>
    <script language="javascript" src="Player.js" type="text/javascript"></script>
    <script language="javascript" src="Level.js" type="text/javascript"></script>
    <script language="javascript" src="CPU.js" type="text/javascript"></script>
    <script language="javascript" src="projectile.js" type="text/javascript"></script>    
    <script language="javascript" src="animations.js" type="text/javascript"></script>    
    <script language="javascript" src="Splashscreen.js" type="text/javascript"></script>    
    <script language="javascript" src="settingsManager.js" type="text/javascript"></script>    

    <script language="javascript" src="utils/easeljs-0.6.0.min.js" type="text/javascript"></script>   
    <script language="javascript" src="utils/sprite.js" type="text/javascript"></script>
    <script language="javascript" src="utils/jquery.hotkeys.js" type="text/javascript"></script>
    <script language="javascript" src="utils/key_status.js" type="text/javascript"></script>
    <script language="javascript" src="utils/util.js" type="text/javascript"></script>

  </head>
  <body>
   <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">Craptastalic Games</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">
        <h1>shit</h1>

    <canvas id='testCanvas' width='800' height='600'></canvas>

    <script type='text/javascript'>
        //<![CDATA[
        var CANVAS_WIDTH = 800;
        var CANVAS_HEIGHT = 600;
        var TIME_PASSED = 0;
        var stage;
        var GameStatus = {
            START: { value: 0},
            PLAYING: { value: 1},
            DEAD: { value: 2}
        };
        var currentGameStatus = GameStatus.START;

     //   var canvasElement = $("<canvas id='testCanvas' width='" + CANVAS_WIDTH +
     //     "' height='" + CANVAS_HEIGHT + "'></canvas>");
     //   var canvas = canvasElement.get(0).getContext("2d");
     //   canvasElement.appendTo('body');

       stage = new createjs.Stage(document.getElementById("testCanvas"));

       var level ; //= new Level(stage);
       var currentScreen = new SplashScreen(stage);

        createjs.Ticker.setFPS(40);
        createjs.Ticker.addEventListener("tick", tick);
       

        function tick() {
            TIME_PASSED += 1;
            //canvas.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
            if (currentGameStatus == GameStatus.START) {
                currentScreen.update();
            }
            else if (currentGameStatus == GameStatus.PLAYING) {
                level.update();
            }
            else if (currentGameStatus == GameStatus.DEAD) {
                //
            }
                   
            stage.update();

  
        }


       // setInterval(function () {
       //    update();
        //    this.draw();
        //}, 1000 / FPS);


       // function update() {
        //    TIME_PASSED += 1;
        //    level.update();
       // }


      //  function draw() {
      //      //canvas.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);  //clear stage
      //      canvas.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
       //     level.draw();
        
      //  }


        //]]>
    </script>

      <h4>Settings</h4>
    <div ng-controller="GameSettings">
         <form ng-submit="updateSettings()">
     ship speed: <input type="text" ng-model="ShipSpeed" >
     ship reload speed: <input type="text" ng-model="ReloadSpeed"  >
         <input type="submit" value="add">
             </form>
    </div>
</div>
  </body>
</html>

